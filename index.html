<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mobile Reel Style</title>

<style>
  html,body {
    margin:0;
    height:100%;
    background:#000;
    font-family:Arial, sans-serif;
    overflow:hidden;
  }

  .scroll-container {
    height:100vh;
    width:100vw;
    overflow-y:auto;
    scroll-snap-type:y mandatory;
  }

  .section {
    height:100vh;
    width:100%;
    scroll-snap-align:start;
    position:relative;
    background:black;
  }

  video {
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:100%;
    height:100%;
    object-fit:cover;
  }

  .ui {
    position:absolute;
    bottom:20px;
    left:20px;
    z-index:20;
    color:white;
  }

  .profile {
    display:flex;
    align-items:center;
    gap:10px;
    margin-bottom:10px;
  }

  .profile img {
    width:45px;
    height:45px;
    border-radius:50%;
    border:2px solid white;
  }

  .follow {
    background:white;
    color:black;
    padding:6px 12px;
    border-radius:6px;
    font-weight:bold;
  }

  .actions {
    position:absolute;
    right:20px;
    bottom:20px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:20px;
    z-index:20;
    color:white;
    font-size:30px;
  }
</style>
</head>

<body>

<div class="scroll-container" id="scrollContainer"></div>

<script>
// Your video (4 times)
const vid = "https://i.imgur.com/PxZhK0d.mp4";

const videos = [vid, vid, vid, vid];

const container = document.getElementById("scrollContainer");

// Build sections
videos.forEach((src, i) => {
  container.innerHTML += `
    <section class="section">
      <video 
        src="${src}" 
        playsinline 
        muted 
        autoplay 
        preload="auto"
      ></video>

      <div class="ui">
        <div class="profile">
          <img src="https://i.imgur.com/3G4c6rd.jpeg">
          <div>
            <div style="font-weight:bold;">username_here</div>
            <div class="follow">Follow</div>
          </div>
        </div>
      </div>

      <div class="actions">
        <div>‚ù§Ô∏è</div>
        <div>üí¨</div>
        <div>‚û§</div>
      </div>
    </section>
  `;
});

// Observe videos and play/pause based on screen
const allVideos = [];

setTimeout(() => {
  document.querySelectorAll("video").forEach(v => allVideos.push(v));

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.play().catch(()=>{});
      } else {
        entry.target.pause();
      }
    });
  }, { threshold: 0.7 });

  allVideos.forEach(v => observer.observe(v));

}, 300);

// Auto unmute after 2s (requires ONE tap due to mobile policy)
let interacted = false;

const enableSound = () => {
  if (interacted) return;
  interacted = true;

  setTimeout(() => {
    allVideos.forEach(v => {
      v.muted = false;
      v.volume = 1.0;
    });
  }, 2000);
};

// First touch = unlock audio
document.addEventListener("touchstart", enableSound, { once:true });
document.addEventListener("click", enableSound, { once:true });

</script>
</body>
</html>
